<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOMCART</title>
  </head>
  <body>
    <!--Youtube Subscription button-->
    <p class="m-4 shadow shadow-4 border border-2 bg-gray-300">
      YouTube Subscribe Button
    </p>
    <button
      class="border border-2 rounded-full bg-black text-white p-3 m-4 mt-0"
      id="js-subscribe"
      onclick="Subscribe();"
    >
      Subscribe
    </button>

    <!--update the page as typing: onkeyup-->
    <input
      class="input"
      type="text"
      placeholder="type anything"
      onkeyup="const inputElement = document.querySelector('.input').value;
    document.querySelector('.js-pageUpdate').innerHTML = inputElement;"
    />
    <p class="js-pageUpdate"></p>

    <!--Amazon Order Cost-->
    <div class="m-4 line-spacing">
      <p>Amazon Shipping Calculator</p>
      <p>Orders under $40 = +$10 shipping.</p>
      <p>Orders over $40 = FREE shipping</p>
      <div class="flex flex-row gap-2 mt-8">
        <input
          type="text"
          placeholder="Cost of order"
          class="border border-2"
          id="js-orderInput"
          onkeydown="
        handleCostKeydown(event);"
        />
        <button
          class="bg-green-700 border border-2 text-white p-4"
          onclick="calculateTotalCost();"
        >
          Calculate
        </button>

        <p class="m-4 js-costDisplay"></p>
      </div>
    </div>

    <script>
      const SubscribeLM = document.querySelector("#js-subscribe");
      function Subscribe() {
        if (SubscribeLM.innerText === "Subscribe") {
          SubscribeLM.innerText = "Subscribed";
          SubscribeLM.style.color = "black";
          SubscribeLM.style.backgroundColor = "gray";
        } else {
          SubscribeLM.innerText = "Subscribe";
          SubscribeLM.style.color = "white";
          SubscribeLM.style.backgroundColor = "black";
        }
      }

      //Amazon order

      function handleCostKeydown(event) {
        if (event.key === "Enter") {
          calculateTotalCost();
        }
      }

      function calculateTotalCost() {
        const order = document.querySelector("#js-orderInput");
        let total;
        if (order.value < 4000) {
          total = Number(order.value) * 100 + 1000; //working in cents
          console.log(total);
        } else if (order.value > 4000) {
          total = order.value;
        }
        document.querySelector(".js-costDisplay").innerHTML = `Total cost: ${
          total / 100
        }`; //cent to dollars
      }
    </script>
  </body>
</html>
